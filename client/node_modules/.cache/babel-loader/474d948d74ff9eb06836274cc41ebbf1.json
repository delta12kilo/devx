{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/React.createElement(\"div\",{class:\"post bg-white p-1 my-1\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(user)},/*#__PURE__*/React.createElement(\"img\",{class:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"h4\",null,name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{class:\"my-1\"},text),/*#__PURE__*/React.createElement(\"p\",{class:\"post-date\"},\"Posted On\",/*#__PURE__*/React.createElement(Moment,{format:\"DD/MM/YYYY\"},date)),showActions&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",class:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/React.createElement(\"span\",null,likes.length>0&&/*#__PURE__*/React.createElement(\"span\",null,likes.length))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",class:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-thumbs-down\"})),/*#__PURE__*/React.createElement(Link,{to:\"/posts/\".concat(_id),class:\"btn btn-primary\"},\"Discussion \",comments.length>0&&/*#__PURE__*/React.createElement(\"span\",{class:\"comment-count\"},comments.length)),!auth.loading&&user===auth.user._id&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(e){return deletePost(_id);},class:\"btn btn-danger\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-times\"})))));};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/home/imkrishna/Downloads/Dev-X/client/src/components/Posts/PostItem.js"],"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,KAAgD,oBAAhD,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAC6E,IAD1EH,CAAAA,OAC0E,MAD1EA,OAC0E,CADjEC,UACiE,MADjEA,UACiE,CADrDC,UACqD,MADrDA,UACqD,CAAxFE,IAAwF,MAAxFA,IAAwF,gBAAlFC,IAAkF,CAA1EC,GAA0E,WAA1EA,GAA0E,CAArEC,IAAqE,WAArEA,IAAqE,CAA/DC,IAA+D,WAA/DA,IAA+D,CAAzDC,MAAyD,WAAzDA,MAAyD,CAAjDC,IAAiD,WAAjDA,IAAiD,CAA3CC,KAA2C,WAA3CA,KAA2C,CAApCC,QAAoC,WAApCA,QAAoC,CAA1BC,IAA0B,WAA1BA,IAA0B,CAAlBC,WAAkB,MAAlBA,WAAkB,CAE1F,mBACI,2BAAK,KAAK,CAAC,wBAAX,eACI,4CACI,oBAAC,IAAD,EAAM,EAAE,oBAAcJ,IAAd,CAAR,eACI,2BACI,KAAK,CAAC,WADV,CAEI,GAAG,CAAED,MAFT,CAGI,GAAG,CAAC,EAHR,EADJ,cAMI,8BAAKD,IAAL,CANJ,CADJ,CADJ,cAWI,4CACI,yBAAG,KAAK,CAAC,MAAT,EACKD,IADL,CADJ,cAII,yBAAG,KAAK,CAAC,WAAT,2BACa,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BM,IAA7B,CADb,CAJJ,CAOKC,WAAW,eAAK,oBAAC,QAAD,mBACb,8BAAQ,OAAO,CAAE,iBAAAC,CAAC,QAAIf,CAAAA,OAAO,CAACM,GAAD,CAAX,EAAlB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAC,eAAxD,eACI,yBAAG,KAAK,CAAC,kBAAT,EADJ,CACqC,GADrC,cAEI,gCAAOK,KAAK,CAACK,MAAN,CAAe,CAAf,eAAqB,gCAAOL,KAAK,CAACK,MAAb,CAA5B,CAFJ,CADa,cAKb,8BAAQ,OAAO,CAAE,iBAAAD,CAAC,QAAId,CAAAA,UAAU,CAACK,GAAD,CAAd,EAAlB,CAAuC,IAAI,CAAC,QAA5C,CAAqD,KAAK,CAAC,eAA3D,eACI,yBAAG,KAAK,CAAC,oBAAT,EADJ,CALa,cAQb,oBAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,CAA2B,KAAK,CAAC,iBAAjC,gBACgBM,QAAQ,CAACI,MAAT,CAAkB,CAAlB,eAAwB,4BAAM,KAAK,CAAC,eAAZ,EAA6BJ,QAAQ,CAACI,MAAtC,CADxC,CARa,CAWZ,CAACZ,IAAI,CAACa,OAAN,EAAiBP,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eAA4C,8BACzC,IAAI,CAAC,QADoC,CAEzC,OAAO,CAAE,iBAAAS,CAAC,QAAIb,CAAAA,UAAU,CAACI,GAAD,CAAd,EAF+B,CAGzC,KAAK,CAAC,gBAHmC,eAIzC,yBAAG,KAAK,CAAC,cAAT,EAJyC,CAXhC,CAPrB,CAXJ,CADJ,CAyCH,CA5CD,CA6CAH,QAAQ,CAACe,YAAT,CAAwB,CACpBJ,WAAW,CAAE,IADO,CAAxB,CAYA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BhB,IAAI,CAAEgB,KAAK,CAAChB,IADkB,CAAL,EAA7B,CAIA,cAAeL,CAAAA,OAAO,CAACoB,eAAD,CAAkB,CAAEnB,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAVA,UAAX,CAAuBC,UAAU,CAAVA,UAAvB,CAAlB,CAAP,CAA8DC,QAA9D,CAAf","sourcesContent":["import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport { connect } from 'react-redux';\nimport { addLike, removeLike, deletePost } from '../../actions/post';\n\nconst PostItem = ({ addLike, removeLike, deletePost\n    , auth, post: { _id, text, name, avatar, user, likes, comments, date }, showActions }) => {\n\n    return (\n        <div class=\"post bg-white p-1 my-1\">\n            <div>\n                <Link to={`/profile/${user}`}>\n                    <img\n                        class=\"round-img\"\n                        src={avatar}\n                        alt=\"\"\n                    />\n                    <h4>{name}</h4>\n                </Link>\n            </div>\n            <div>\n                <p class=\"my-1\">\n                    {text}\n                </p>\n                <p class=\"post-date\">\n                    Posted On<Moment format=\"DD/MM/YYYY\">{date}</Moment>\n                </p>\n                {showActions && (<Fragment>\n                    <button onClick={e => addLike(_id)} type=\"button\" class=\"btn btn-light\" >\n                        <i class=\"fas fa-thumbs-up\"></i>{' '}\n                        <span>{likes.length > 0 && (<span>{likes.length}</span>)}</span>\n                    </button>\n                    <button onClick={e => removeLike(_id)} type=\"button\" class=\"btn btn-light\" >\n                        <i class=\"far fa-thumbs-down\"></i>\n                    </button>\n                    <Link to={`/posts/${_id}`} class=\"btn btn-primary\">\n                        Discussion {comments.length > 0 && (<span class='comment-count'>{comments.length}</span>)}\n                    </Link>\n                    {!auth.loading && user === auth.user._id && (<button\n                        type=\"button\"\n                        onClick={e => deletePost(_id)}\n                        class=\"btn btn-danger\">\n                        <i class=\"fas fa-times\"></i>\n                    </button>)}\n                </Fragment>)}\n\n            </div>\n        </div>\n    )\n}\nPostItem.defaultProps = {\n    showActions: true\n}\nPostItem.propTypes = {\n    post: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired,\n    deletePost: PropTypes.func.isRequired,\n\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(PostItem)\n"]},"metadata":{},"sourceType":"module"}